:root {
	/* Defaults ‚Äî soft warm cream */
	--wordle-bg: #fdf6ee;
	--wordle-surface: #f5ebe0;
	--wordle-cell-bg: #fffaf4;
	--wordle-border: #ddd0c0;
	--wordle-border-filled: #c4a880;
	--wordle-text: #3d3229;
	--wordle-text-muted: #9a8874;
	--wordle-absent: #a09484;
	--wordle-present: #d4a84a;
	--wordle-correct: #6aaa64;
	--wordle-key-bg: #ede4d8;
	--wordle-key-hover: #ddd0c0;
	--wordle-key-text: #3d3229;
	--flame-glow: rgba(255, 180, 100, 0);
	--circle-accent: #e8a84c;
	--circle-accent-glow: rgba(232, 168, 76, 0.15);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   CIRCLE THEMES ‚Äî warm & cozy, getting toastier üïØÔ∏è
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

/* Circle 1: Hangman ‚Äî fresh, clean cream */
body[data-circle="1"], #app[data-circle="1"] {
	--wordle-bg: #fdf6ee;
	--wordle-surface: #f5ebe0;
	--wordle-cell-bg: #fffaf4;
	--wordle-border: #ddd0c0;
	--wordle-border-filled: #c4a880;
	--wordle-text: #3d3229;
	--wordle-text-muted: #9a8874;
	--wordle-absent: #a09484;
	--wordle-key-bg: #ede4d8;
	--wordle-key-hover: #ddd0c0;
	--wordle-key-text: #3d3229;
	--flame-glow: rgba(255, 200, 130, 0.06);
	--circle-accent: #e8b860;
	--circle-accent-glow: rgba(232, 184, 96, 0.12);
}

/* Circle 2: Wordle ‚Äî warm vanilla candle */
body[data-circle="2"], #app[data-circle="2"] {
	--wordle-bg: #faf0e2;
	--wordle-surface: #f0e4d2;
	--wordle-cell-bg: #fef7ec;
	--wordle-border: #d8c4a4;
	--wordle-border-filled: #c0a070;
	--wordle-text: #3a2f22;
	--wordle-text-muted: #8e7c64;
	--wordle-absent: #9a8a70;
	--wordle-key-bg: #e8dcc8;
	--wordle-key-hover: #dac8aa;
	--wordle-key-text: #3a2f22;
	--flame-glow: rgba(255, 190, 110, 0.10);
	--circle-accent: #e8a84c;
	--circle-accent-glow: rgba(232, 168, 76, 0.18);
}

/* Circle 3: Anagrams ‚Äî soft peach glow */
body[data-circle="3"], #app[data-circle="3"] {
	--wordle-bg: #f8ead8;
	--wordle-surface: #eedcc6;
	--wordle-cell-bg: #fcf2e4;
	--wordle-border: #d0b08a;
	--wordle-border-filled: #c49860;
	--wordle-text: #382a1c;
	--wordle-text-muted: #88724e;
	--wordle-absent: #907858;
	--wordle-key-bg: #e4d0b4;
	--wordle-key-hover: #d4bc96;
	--wordle-key-text: #382a1c;
	--flame-glow: rgba(255, 170, 80, 0.15);
	--circle-accent: #e09040;
	--circle-accent-glow: rgba(224, 144, 64, 0.22);
}

/* Circle 4: Chains ‚Äî warm toast / candlelit */
body[data-circle="4"], #app[data-circle="4"] {
	--wordle-bg: #f2e0c8;
	--wordle-surface: #e6d0b0;
	--wordle-cell-bg: #f8ead6;
	--wordle-border: #c8a470;
	--wordle-border-filled: #b88c4c;
	--wordle-text: #342614;
	--wordle-text-muted: #806840;
	--wordle-absent: #887050;
	--wordle-present: #d49838;
	--wordle-correct: #6aaa64;
	--wordle-key-bg: #dcc8a4;
	--wordle-key-hover: #ccb488;
	--wordle-key-text: #342614;
	--flame-glow: rgba(255, 150, 60, 0.20);
	--circle-accent: #d88830;
	--circle-accent-glow: rgba(216, 136, 48, 0.28);
}

/* Circle 5: Totally Normal Wordle ‚Äî warm coral sunset */
body[data-circle="5"], #app[data-circle="5"] {
	--wordle-bg: #eed8c4;
	--wordle-surface: #e0c8ae;
	--wordle-cell-bg: #f4e2d0;
	--wordle-border: #c09468;
	--wordle-border-filled: #b07840;
	--wordle-text: #302010;
	--wordle-text-muted: #785c3a;
	--wordle-absent: #806444;
	--wordle-present: #d08830;
	--wordle-correct: #5ea85a;
	--wordle-key-bg: #d4b890;
	--wordle-key-hover: #c4a478;
	--wordle-key-text: #302010;
	--flame-glow: rgba(240, 130, 50, 0.25);
	--circle-accent: #d07828;
	--circle-accent-glow: rgba(208, 120, 40, 0.32);
}

/* Circle 6: Big Wordle ‚Äî toasty amber fireside */
body[data-circle="6"], #app[data-circle="6"] {
	--wordle-bg: #e8ccaa;
	--wordle-surface: #d8b890;
	--wordle-cell-bg: #f0d8ba;
	--wordle-border: #b48450;
	--wordle-border-filled: #a87038;
	--wordle-text: #2c1c0e;
	--wordle-text-muted: #705030;
	--wordle-absent: #785838;
	--wordle-present: #c88028;
	--wordle-correct: #58a054;
	--wordle-key-bg: #ccaa7a;
	--wordle-key-hover: #bc9868;
	--wordle-key-text: #2c1c0e;
	--flame-glow: rgba(230, 110, 40, 0.30);
	--circle-accent: #c87020;
	--circle-accent-glow: rgba(200, 112, 32, 0.38);
}

/* Circle 7: Evil Wordle ‚Äî deep campfire ember glow */
body[data-circle="7"], #app[data-circle="7"] {
	--wordle-bg: #e0c098;
	--wordle-surface: #d0aa78;
	--wordle-cell-bg: #eacea6;
	--wordle-border: #a87040;
	--wordle-border-filled: #a06028;
	--wordle-text: #281808;
	--wordle-text-muted: #684820;
	--wordle-absent: #70502e;
	--wordle-present: #c07020;
	--wordle-correct: #509848;
	--wordle-key-bg: #c09a68;
	--wordle-key-hover: #b08858;
	--wordle-key-text: #281808;
	--flame-glow: rgba(220, 90, 30, 0.35);
	--circle-accent: #c06018;
	--circle-accent-glow: rgba(192, 96, 24, 0.42);
}

#app {
	font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	text-align: center;
	color: var(--wordle-text);
	background: var(--wordle-bg);
	min-height: 100%;
	display: flex;
	flex-direction: column;
	align-items: center;
	padding: 1rem;
	position: relative;
	transition: background 0.8s ease, color 0.8s ease;
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   PROGRESSIVE WARM GLOW ‚Äî grows with depth
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
body::before {
	content: '';
	position: fixed;
	inset: 0;
	pointer-events: none;
	z-index: 0;
	opacity: 0;
	transition: opacity 0.8s ease;
	background:
		radial-gradient(ellipse at 50% 100%, var(--circle-accent-glow) 0%, transparent 60%),
		linear-gradient(180deg, transparent 30%, var(--flame-glow) 70%, var(--circle-accent-glow) 100%);
}
body[data-circle="1"]::before { opacity: 0.3; }
body[data-circle="2"]::before { opacity: 0.5; }
body[data-circle="3"]::before { opacity: 0.6; }
body[data-circle="4"]::before { opacity: 0.7; }
body[data-circle="5"]::before { opacity: 0.8; }
body[data-circle="6"]::before { opacity: 0.9; }
body[data-circle="7"]::before { opacity: 1; }

/* Duplicate overlay on #app for embedded contexts */
#app::before {
	content: '';
	position: fixed;
	inset: 0;
	pointer-events: none;
	z-index: 0;
	opacity: 0;
	transition: opacity 0.8s ease;
	background:
		radial-gradient(ellipse at 50% 100%, var(--circle-accent-glow) 0%, transparent 60%),
		linear-gradient(180deg, transparent 30%, var(--flame-glow) 70%, var(--circle-accent-glow) 100%);
}
#app[data-circle="1"]::before { opacity: 0.3; }
#app[data-circle="2"]::before { opacity: 0.5; }
#app[data-circle="3"]::before { opacity: 0.6; }
#app[data-circle="4"]::before { opacity: 0.7; }
#app[data-circle="5"]::before { opacity: 0.8; }
#app[data-circle="6"]::before { opacity: 0.9; }
#app[data-circle="7"]::before { opacity: 1; }

/* Warm glow at bottom edge ‚Äî intensifies per circle */
#app { box-shadow: none; transition: box-shadow 0.8s ease; }
#app[data-circle="1"] { box-shadow: 0 -4px 20px var(--circle-accent-glow); }
#app[data-circle="2"] { box-shadow: 0 -8px 30px var(--circle-accent-glow); }
#app[data-circle="3"] { box-shadow: 0 -12px 40px var(--circle-accent-glow), 0 -6px 20px var(--flame-glow); }
#app[data-circle="4"] { box-shadow: 0 -16px 50px var(--circle-accent-glow), 0 -8px 30px var(--flame-glow); }
#app[data-circle="5"] { box-shadow: 0 -20px 60px var(--circle-accent-glow), 0 -10px 40px var(--flame-glow); }
#app[data-circle="6"] { box-shadow: 0 -24px 70px var(--circle-accent-glow), 0 -12px 50px var(--flame-glow); }
#app[data-circle="7"] { box-shadow: 0 -30px 80px var(--circle-accent-glow), 0 -15px 60px var(--flame-glow); }

#app > * {
	position: relative;
	z-index: 1;
}

/* Cute flame doodles ‚Äî build up from the bottom, more each stage */
.flame-doodles {
	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	height: 100%;
	pointer-events: none;
	z-index: 0;
	overflow: hidden;
}
.flame-doodle {
	position: absolute;
	animation: flame-bob 2s infinite ease-in-out;
	filter: drop-shadow(0 0 4px rgba(255, 160, 50, 0.4));
	user-select: none;
}
@keyframes flame-bob {
	0% { transform: translateY(0) rotate(-3deg); opacity: 0.85; }
	50% { transform: translateY(-6px) rotate(3deg); opacity: 1; }
	100% { transform: translateY(0) rotate(-3deg); opacity: 0.85; }
}

html,
body {
	width: 100%;
	min-height: 100%;
	box-sizing: border-box;
	background: var(--wordle-bg);
	color: var(--wordle-text);
	transition: background 0.8s ease, color 0.8s ease;
	overflow-y: auto;
	-webkit-overflow-scrolling: touch;
}

#app {
	width: 100%;
	min-height: 100%;
	box-sizing: border-box;
	overflow-y: auto;
	padding-bottom: 1rem;
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

/* Mobile: touch targets, safe area */
html {
	-webkit-text-size-adjust: 100%;
	touch-action: manipulation;
}
body {
	padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
	min-height: 100vh;
	min-height: 100dvh;
}
#app {
	padding: max(1rem, env(safe-area-inset-top)) max(1rem, env(safe-area-inset-left)) max(1rem, env(safe-area-inset-bottom)) max(1rem, env(safe-area-inset-right));
	min-height: 100vh;
	min-height: 100dvh;
}
@media (max-width: 480px) {
	#app {
		padding-top: max(5rem, env(safe-area-inset-top, 5rem));
	}
	.wordle-cell {
		width: 2.25rem;
		height: 2.25rem;
		font-size: 1.1rem;
	}
	.wordle-grid-7 .wordle-cell {
		width: 1.65rem;
		height: 1.65rem;
		font-size: 0.85rem;
	}
	.wordle-keyboard {
		width: 100%;
		max-width: 100%;
		padding: 0 2px;
		box-sizing: border-box;
	}
	.keyboard-row {
		width: 100%;
	}
	.wordle-keyboard .keyboard-key {
		min-height: 44px;
		min-width: 0;
		flex: 1 1 0;
		padding: 0 2px;
		font-size: 0.75rem;
	}
	.key-enter, .key-backspace {
		flex: 1.5 1 0;
	}
	.reset-btn, .play-anyway-btn {
		min-height: 44px;
		padding: 0.6rem 1.2rem;
	}
	.wordle-title {
		font-size: 1.35rem;
	}
	.hangman-word {
		font-size: 1.5rem;
		letter-spacing: 0.2em;
	}
}
/* Prevent double-tap zoom on buttons */
button {
	touch-action: manipulation;
}

.wordle-title {
	font-size: 1.75rem;
	font-weight: 700;
	letter-spacing: 0.06em;
	margin-bottom: 1rem;
	color: var(--wordle-text);
	text-shadow: 0 0 20px var(--circle-accent-glow);
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 0.5rem;
	flex-wrap: wrap;
}

.title-label {
	font-size: 0.7em;
	font-weight: 800;
	text-transform: uppercase;
	letter-spacing: 0.14em;
	opacity: 0.55;
}

.title-separator {
	font-size: 0.6em;
	opacity: 0.3;
}

.title-name {
	font-weight: 800;
	color: var(--wordle-text);
	opacity: 0.85;
}

.wordle-grid {
	display: flex;
	flex-direction: column;
	gap: 0.35rem;
	margin-bottom: 1.5rem;
}

.wordle-row {
	display: flex;
	justify-content: center;
	gap: 0.35rem;
}

/* Cell wrapper for flip animation */
.wordle-cell {
	width: 2.5rem;
	height: 2.5rem;
	perspective: 1000px;
	display: flex;
	align-items: center;
	justify-content: center;
}

.wordle-cell-inner {
	position: relative;
	width: 100%;
	height: 100%;
	transform-style: preserve-3d;
	transition: transform 0.5s cubic-bezier(0.22, 1, 0.36, 1);
}

.wordle-cell-inner.flip {
	transform: rotateX(180deg);
}

.wordle-cell-front,
.wordle-cell-back {
	position: absolute;
	inset: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	backface-visibility: hidden;
	-webkit-backface-visibility: hidden;
	border: 2px solid var(--wordle-border);
	font-size: 1.25rem;
	font-weight: 700;
	text-transform: uppercase;
}

.wordle-cell-front {
	background: var(--wordle-cell-bg);
	color: var(--wordle-text);
}

.wordle-cell-back {
	transform: rotateX(180deg);
	background: var(--wordle-cell-bg);
	color: var(--wordle-text);
}

.wordle-cell-back.correct {
	background: var(--wordle-correct);
	border-color: var(--wordle-correct);
	color: #fff;
}

.wordle-cell-back.present {
	background: var(--wordle-present);
	border-color: var(--wordle-present);
	color: #fff;
}

.wordle-cell-back.absent {
	background: var(--wordle-absent);
	border-color: var(--wordle-absent);
	color: #fff;
	opacity: 0.85;
}

.wordle-cell.filled .wordle-cell-front {
	border-color: var(--wordle-border-filled);
}

/* Circle 7: grayed-out blank cells (last 2 of first row) */
.wordle-cell.blank .wordle-cell-back,
.wordle-cell.blank {
	background: var(--wordle-cell-bg);
	border-color: var(--wordle-border);
	opacity: 0.6;
}

.wordle-message {
	min-height: 1.5rem;
	font-size: 0.9rem;
	margin-bottom: 0.5rem;
}

.wordle-message.error {
	color: #ed4245;
	font-weight: 600;
}

.error-message {
	color: #ed4245;
	padding: 1rem;
	text-align: center;
	max-width: 90%;
}

.error-help {
	color: var(--wordle-text);
	font-size: 0.85rem;
	text-align: left;
	max-width: 360px;
	margin: 0 auto 1rem;
	line-height: 1.5;
}

.error-help code {
	background: var(--wordle-cell-bg);
	padding: 0.1em 0.35em;
	border-radius: 3px;
	font-size: 0.9em;
}

.error-help a {
	color: #5865f2;
}

.play-anyway-btn {
	background: var(--wordle-key-bg);
	color: #fff;
	border: none;
	padding: 0.5rem 1rem;
	border-radius: 6px;
	font-size: 1rem;
	cursor: pointer;
}

.play-anyway-btn:hover {
	background: var(--wordle-key-hover);
}

.wordle-keyboard {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 0.4rem;
	width: 100%;
	max-width: 500px;
	margin: 0.5rem auto 1rem;
}

.keyboard-row {
	display: flex;
	justify-content: center;
	gap: 0.25rem;
	width: 100%;
}

.keyboard-key {
	height: 2.25rem;
	min-width: 1.75rem;
	padding: 0 0.4rem;
	font-size: 0.75rem;
	font-weight: 600;
	text-transform: uppercase;
	background: var(--wordle-key-bg);
	color: var(--wordle-key-text);
	border: none;
	border-radius: 4px;
	cursor: pointer;
	transition: background 0.15s, color 0.15s, transform 0.1s;
}

.keyboard-key:hover {
	background: var(--wordle-key-hover);
}

.keyboard-key:active {
	transform: scale(0.97);
}

.keyboard-key.correct {
	background: var(--wordle-correct);
	color: #fff;
}

.keyboard-key.present {
	background: var(--wordle-present);
	color: #fff;
}

.keyboard-key.absent {
	background: var(--wordle-absent);
	color: var(--wordle-key-text);
	opacity: 0.7;
}

.key-enter {
	min-width: 2.5rem;
	font-size: 0.65rem;
}

.key-backspace {
	min-width: 2.5rem;
}

/* Hangman */
.hangman-word {
	font-size: 2rem;
	letter-spacing: 0.3em;
	font-weight: 700;
	margin: 1rem 0 0.5rem;
}

.hangman-wrong {
	font-size: 0.95rem;
	color: #b5bac1;
	margin-bottom: 0.5rem;
}

.hangman-word-guess-label {
	font-size: 0.8rem;
	color: #b5bac1;
	margin-bottom: 0.25rem;
}

.hangman-word-guess {
	font-size: 1.25rem;
	letter-spacing: 0.2em;
	margin-bottom: 1rem;
}

/* Stage 3: Anagram ‚Äî 6 tiles, 1 fake, timed reveals */
.anagram-timer {
	font-size: 2rem;
	font-weight: 700;
	font-variant-numeric: tabular-nums;
	letter-spacing: 0.05em;
	color: var(--wordle-text);
	margin-bottom: 0.5rem;
}

.anagram-timer-urgent {
	color: #c53030;
	animation: timer-pulse 0.6s ease-in-out infinite alternate;
}

.anagram-label {
	font-size: 0.9rem;
	color: var(--wordle-text-muted);
	margin: 0.25rem 0 0.75rem;
}

/* Source letter tiles (6 scrambled) */
.anagram-source-tiles {
	display: flex;
	gap: 0.5rem;
	justify-content: center;
	margin-bottom: 1.25rem;
	flex-wrap: wrap;
}

.anagram-tile {
	width: 3rem;
	height: 3rem;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 1.4rem;
	font-weight: 700;
	text-transform: uppercase;
	border: 2px solid var(--wordle-border-filled);
	border-radius: 10px;
	background: var(--wordle-cell-bg);
	color: var(--wordle-text);
	cursor: pointer;
	transition: transform 0.15s, opacity 0.2s, border-color 0.2s, box-shadow 0.2s;
	box-shadow: 0 2px 6px rgba(0,0,0,0.08);
	user-select: none;
	-webkit-tap-highlight-color: transparent;
}

.anagram-tile:hover:not(.anagram-tile-used) {
	transform: translateY(-3px);
	box-shadow: 0 4px 12px rgba(0,0,0,0.12);
	border-color: var(--circle-accent, #e8a84c);
}

.anagram-tile:active:not(.anagram-tile-used) {
	transform: scale(0.95);
}

.anagram-tile-used {
	opacity: 0.25;
	transform: scale(0.9);
	cursor: default;
	border-color: var(--wordle-border);
	box-shadow: none;
}

/* Answer slots (5 target positions) */
.anagram-answer-slots {
	display: flex;
	gap: 0.4rem;
	justify-content: center;
	margin-bottom: 1rem;
}

.anagram-slot {
	width: 3rem;
	height: 3rem;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 1.4rem;
	font-weight: 700;
	text-transform: uppercase;
	border: 2px dashed var(--wordle-border);
	border-radius: 8px;
	background: transparent;
	color: var(--wordle-text);
	cursor: pointer;
	transition: all 0.2s ease;
	user-select: none;
	-webkit-tap-highlight-color: transparent;
}

.anagram-slot-filled {
	border-style: solid;
	border-color: var(--wordle-border-filled);
	background: var(--wordle-cell-bg);
	animation: anagram-slot-pop 0.2s ease-out;
}

@keyframes anagram-slot-pop {
	0%   { transform: scale(0.8); }
	60%  { transform: scale(1.08); }
	100% { transform: scale(1); }
}

.anagram-slot-revealed {
	border-color: var(--wordle-correct) !important;
	border-style: solid !important;
	background: color-mix(in srgb, var(--wordle-correct) 15%, var(--wordle-cell-bg)) !important;
	color: var(--wordle-correct);
	cursor: default;
	animation: anagram-reveal-flash 0.5s ease-out;
	box-shadow: 0 0 12px color-mix(in srgb, var(--wordle-correct) 30%, transparent);
}

@keyframes anagram-reveal-flash {
	0%   { transform: scale(1.3); box-shadow: 0 0 20px color-mix(in srgb, var(--wordle-correct) 50%, transparent); }
	100% { transform: scale(1); box-shadow: 0 0 12px color-mix(in srgb, var(--wordle-correct) 30%, transparent); }
}

.anagram-message {
	min-height: 1.5rem;
	font-size: 0.9rem;
	margin: 0.25rem 0 0.5rem;
}

.anagram-message.error {
	color: #c53030;
	font-weight: 600;
}

.anagram-submit {
	margin-top: 0.5rem;
}

@media (max-width: 480px) {
	.anagram-tile, .anagram-slot {
		width: 2.6rem;
		height: 2.6rem;
		font-size: 1.2rem;
	}
}

/* Game over / Victory / Stage Congrats */

/* ‚ïê‚ïê‚ïê LOADING SCREEN üïØÔ∏è ‚ïê‚ïê‚ïê */
.loading-screen {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	min-height: 80vh;
	text-align: center;
	padding: 2rem;
	animation: loading-fade-in 0.6s ease-out;
	position: relative;
	overflow: hidden;
}

@keyframes loading-fade-in {
	from { opacity: 0; }
	to   { opacity: 1; }
}

/* Floating embers behind everything */
.loading-embers {
	position: absolute;
	inset: 0;
	pointer-events: none;
	overflow: hidden;
}

.loading-ember {
	position: absolute;
	border-radius: 50%;
	animation: loading-ember-float linear infinite;
	opacity: 0;
}

@keyframes loading-ember-float {
	0%   { opacity: 0; transform: translateY(0) scale(0.5); }
	15%  { opacity: 1; }
	85%  { opacity: 0.6; }
	100% { opacity: 0; transform: translateY(-60vh) scale(0.2) translateX(30px); }
}

/* Glowing ring around the flame */
.loading-flame-ring {
	position: relative;
	width: 130px;
	height: 130px;
	margin-bottom: 2rem;
	display: flex;
	align-items: center;
	justify-content: center;
}

.loading-flame-ring::before {
	content: '';
	position: absolute;
	inset: 0;
	border-radius: 50%;
	border: 3px solid transparent;
	border-top-color: #e8a84c;
	border-right-color: rgba(232, 168, 76, 0.4);
	animation: loading-ring-spin 1.8s linear infinite;
	filter: drop-shadow(0 0 8px rgba(232, 168, 76, 0.4));
}

.loading-flame-ring::after {
	content: '';
	position: absolute;
	inset: 8px;
	border-radius: 50%;
	border: 2px solid transparent;
	border-bottom-color: rgba(255, 160, 80, 0.5);
	border-left-color: rgba(255, 160, 80, 0.2);
	animation: loading-ring-spin 2.5s linear infinite reverse;
}

@keyframes loading-ring-spin {
	from { transform: rotate(0deg); }
	to   { transform: rotate(360deg); }
}

.loading-flame-emoji {
	font-size: 3.5rem;
	animation: loading-flame-dance 1.2s ease-in-out infinite;
	filter: drop-shadow(0 0 20px rgba(255, 140, 50, 0.5));
	z-index: 1;
}

@keyframes loading-flame-dance {
	0%   { transform: scale(1) translateY(0); }
	25%  { transform: scale(1.08) translateY(-3px) rotate(2deg); }
	50%  { transform: scale(1.15) translateY(-6px); filter: drop-shadow(0 0 30px rgba(255, 140, 50, 0.7)); }
	75%  { transform: scale(1.08) translateY(-3px) rotate(-2deg); }
	100% { transform: scale(1) translateY(0); }
}

.loading-title {
	font-size: 1.8rem;
	font-weight: 800;
	color: var(--wordle-text);
	margin-bottom: 0.25rem;
	opacity: 0;
	animation: loading-title-reveal 0.8s ease-out 0.3s forwards;
}

@keyframes loading-title-reveal {
	from { opacity: 0; transform: translateY(10px); }
	to   { opacity: 1; transform: translateY(0); }
}

.loading-subtitle {
	font-size: 1rem;
	color: var(--wordle-text-muted);
	margin-bottom: 2rem;
	opacity: 0;
	animation: loading-title-reveal 0.8s ease-out 0.6s forwards;
}

/* Three pulsing dots */
.loading-dots {
	display: flex;
	gap: 0.5rem;
	align-items: center;
	justify-content: center;
	opacity: 0;
	animation: loading-title-reveal 0.5s ease-out 0.9s forwards;
}

.loading-dot {
	width: 10px;
	height: 10px;
	border-radius: 50%;
	background: var(--circle-accent, #e8a84c);
	animation: loading-dot-pulse 1.4s ease-in-out infinite;
	box-shadow: 0 0 8px var(--circle-accent-glow, rgba(232, 168, 76, 0.3));
}

.loading-dot:nth-child(2) { animation-delay: 0.2s; }
.loading-dot:nth-child(3) { animation-delay: 0.4s; }

@keyframes loading-dot-pulse {
	0%, 80%, 100% { transform: scale(0.6); opacity: 0.4; }
	40%           { transform: scale(1.2); opacity: 1; }
}

.screen {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	min-height: 60vh;
	text-align: center;
	padding: 2rem;
}

.screen-title {
	font-size: 2rem;
	margin-bottom: 1rem;
}

.screen-gameover .screen-title {
	color: #c53030;
}

.screen-victory .screen-title {
	color: var(--wordle-correct);
}

.screen-text {
	font-size: 1.1rem;
	color: var(--wordle-text);
	margin-bottom: 1rem;
}

/* ‚ïê‚ïê‚ïê INTER-STAGE CONGRATS SCREEN ‚ïê‚ïê‚ïê */
.stage-congrats {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	min-height: 80vh;
	text-align: center;
	padding: 2rem;
	animation: congrats-fade-in 0.5s ease-out;
}

@keyframes congrats-fade-in {
	from { opacity: 0; transform: scale(0.9); }
	to   { opacity: 1; transform: scale(1); }
}

.congrats-flame-ring {
	position: relative;
	width: 120px;
	height: 120px;
	margin-bottom: 1.5rem;
}

.congrats-flame-ring::before {
	content: 'üî•';
	position: absolute;
	inset: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 4rem;
	animation: congrats-flame-pulse 1s ease-in-out infinite alternate;
}

@keyframes congrats-flame-pulse {
	from { transform: scale(1) translateY(0); filter: brightness(1); }
	to   { transform: scale(1.15) translateY(-4px); filter: brightness(1.3); }
}

.congrats-circle-num {
	font-size: 3.5rem;
	font-weight: 800;
	letter-spacing: 0.05em;
	color: var(--circle-accent);
	text-shadow: 0 0 30px var(--circle-accent-glow), 0 0 60px var(--circle-accent-glow);
	margin-bottom: 0.25rem;
	animation: congrats-num-glow 1.5s ease-in-out infinite alternate;
}

@keyframes congrats-num-glow {
	from { text-shadow: 0 0 15px var(--circle-accent-glow), 0 0 30px var(--circle-accent-glow); }
	to   { text-shadow: 0 0 25px var(--circle-accent-glow), 0 0 50px var(--circle-accent-glow); }
}

.congrats-label {
	font-size: 1rem;
	color: var(--wordle-text-muted);
	text-transform: uppercase;
	letter-spacing: 0.2em;
	margin-bottom: 1rem;
}

.congrats-title {
	font-size: 1.8rem;
	font-weight: 700;
	color: var(--wordle-text);
	margin-bottom: 0.5rem;
}

.congrats-subtitle {
	font-size: 1rem;
	color: var(--wordle-text-muted);
	margin-bottom: 1.5rem;
}

.congrats-progress-bar {
	width: 200px;
	height: 6px;
	background: var(--wordle-surface);
	border-radius: 3px;
	overflow: hidden;
}

.congrats-progress-fill {
	height: 100%;
	background: var(--circle-accent);
	border-radius: 3px;
	transition: width 3s linear;
	box-shadow: 0 0 8px var(--circle-accent-glow);
}

/* ‚ïê‚ïê‚ïê VICTORY SCREEN ‚ú® ‚ïê‚ïê‚ïê */
.screen-victory {
	position: relative;
	overflow: hidden;
}

.screen-victory .screen-title {
	font-size: 2.5rem;
	font-weight: 800;
	background: linear-gradient(135deg, #ffd700, #ffaa40, #ff8c50);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
	animation: victory-shimmer 2s ease-in-out infinite alternate;
}

@keyframes victory-shimmer {
	from { filter: brightness(1); }
	to   { filter: brightness(1.3); }
}

.victory-embers {
	position: absolute;
	inset: 0;
	pointer-events: none;
	overflow: hidden;
}

.victory-ember {
	position: absolute;
	width: 4px;
	height: 4px;
	border-radius: 50%;
	background: #ffaa44;
	animation: ember-rise 3s ease-out infinite;
}

@keyframes ember-rise {
	0%   { opacity: 1; transform: translateY(0) scale(1); }
	100% { opacity: 0; transform: translateY(-200px) scale(0.3) translateX(40px); }
}

/* ‚ïê‚ïê‚ïê GAME OVER SCREEN üò¢ ‚ïê‚ïê‚ïê */
.screen-gameover .screen-title {
	font-size: 2.2rem;
	font-weight: 800;
	color: #b86040;
	text-shadow: 0 0 15px rgba(184, 96, 64, 0.3);
	animation: gameover-pulse 2s ease-in-out infinite alternate;
}

@keyframes gameover-pulse {
	from { opacity: 0.8; }
	to   { opacity: 1; text-shadow: 0 0 20px rgba(184, 96, 64, 0.4); }
}

.reset-btn {
	background: var(--wordle-surface);
	color: var(--wordle-text);
	border: 1px solid var(--wordle-border);
	padding: 0.5rem 1rem;
	border-radius: 6px;
	font-size: 0.9rem;
	cursor: pointer;
	margin-top: 0.5rem;
}

.reset-btn:hover {
	background: var(--wordle-key-hover);
}

/* 6-letter Wordle grid */
.wordle-grid-6 .wordle-cell {
	width: 2.2rem;
	height: 2.2rem;
	font-size: 1.1rem;
}

/* 7-letter Wordle grid: smaller cells */
.wordle-grid-7 .wordle-cell {
	width: 1.9rem;
	height: 1.9rem;
	font-size: 0.95rem;
}

/* ---- Word Chain (Stage 4) ---- */

.chain-subtitle {
	color: var(--wordle-text-muted);
	font-size: 0.9rem;
	margin: 0.25rem 0 0.75rem;
	max-width: 320px;
	line-height: 1.4;
}

.chain-timer {
	font-size: 2rem;
	font-weight: 700;
	font-variant-numeric: tabular-nums;
	letter-spacing: 0.05em;
	color: var(--wordle-text);
	margin-bottom: 0.75rem;
}

.chain-timer-urgent {
	color: #c53030;
	animation: timer-pulse 0.6s ease-in-out infinite alternate;
}

@keyframes timer-pulse {
	from { opacity: 1; transform: scale(1); }
	to   { opacity: 0.6; transform: scale(1.08); }
}

.chain-links {
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	justify-content: center;
	gap: 0.35rem;
	margin-bottom: 1rem;
	max-width: 480px;
}

.chain-link {
	display: flex;
	gap: 3px;
	background: var(--wordle-surface);
	border: 2px solid var(--wordle-border);
	border-radius: 8px;
	padding: 0.35rem 0.5rem;
	font-weight: 700;
	font-size: 1.1rem;
	letter-spacing: 0.12em;
	transition: transform 0.2s, border-color 0.2s;
}

.chain-link-start {
	border-color: var(--wordle-correct);
	background: color-mix(in srgb, var(--wordle-correct) 12%, transparent);
}

.chain-link-player {
	border-color: var(--wordle-present);
	background: color-mix(in srgb, var(--wordle-present) 12%, transparent);
	animation: chain-pop 0.3s ease-out;
}

@keyframes chain-pop {
	0%   { transform: scale(0.85); opacity: 0.5; }
	60%  { transform: scale(1.08); }
	100% { transform: scale(1); opacity: 1; }
}

.chain-link-empty {
	border-style: dashed;
	border-color: var(--wordle-border);
	color: var(--wordle-text-muted);
	opacity: 0.5;
	font-size: 0.9rem;
}

.chain-letter {
	display: inline-block;
	min-width: 1.1em;
	text-align: center;
}

.chain-letter-link {
	color: var(--wordle-correct);
	text-decoration: underline;
	text-underline-offset: 3px;
}

.chain-letter-next {
	color: var(--wordle-present);
	font-size: 1.2em;
	text-decoration: underline wavy;
	text-underline-offset: 3px;
}

.chain-arrow {
	font-size: 1.2rem;
	color: var(--wordle-text-muted);
}

.chain-arrow-empty {
	opacity: 0.3;
}

.chain-input-display {
	display: flex;
	gap: 4px;
	justify-content: center;
	margin-bottom: 0.5rem;
}

.chain-input-cell {
	width: 2.5rem;
	height: 2.5rem;
	display: flex;
	align-items: center;
	justify-content: center;
	border: 2px solid var(--wordle-border);
	border-radius: 6px;
	font-size: 1.3rem;
	font-weight: 700;
	text-transform: uppercase;
	background: var(--wordle-cell-bg);
	transition: border-color 0.15s, transform 0.1s;
}

.chain-input-cell.filled {
	border-color: var(--wordle-border-filled);
	transform: scale(1.05);
}

.chain-input-cell.chain-input-hint {
	color: var(--wordle-present);
	opacity: 0.45;
	font-style: italic;
}

.chain-message {
	min-height: 1.5em;
	font-size: 0.9rem;
	color: var(--wordle-text-muted);
	margin-bottom: 0.5rem;
	transition: color 0.15s;
}

.chain-message.error {
	color: #c53030;
	font-weight: 600;
}

/* ‚ïê‚ïê‚ïê HOW TO PLAY POPUP üìñ ‚ïê‚ïê‚ïê */
.htp-overlay {
	position: fixed;
	inset: 0;
	z-index: 1000;
	display: flex;
	align-items: center;
	justify-content: center;
	background: rgba(40, 30, 20, 0.55);
	backdrop-filter: blur(6px);
	-webkit-backdrop-filter: blur(6px);
	animation: htp-overlay-in 0.3s ease-out;
	padding: 1rem;
}

@keyframes htp-overlay-in {
	from { opacity: 0; }
	to   { opacity: 1; }
}

.htp-popup {
	background: var(--wordle-bg, #fdf6ee);
	border: 2px solid var(--wordle-border, #ddd0c0);
	border-radius: 16px;
	box-shadow:
		0 8px 40px rgba(80, 50, 20, 0.25),
		0 0 60px var(--circle-accent-glow, rgba(232, 168, 76, 0.15));
	max-width: 420px;
	width: 100%;
	max-height: 85vh;
	overflow-y: auto;
	padding: 1.75rem 1.5rem 1.5rem;
	animation: htp-popup-in 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
	position: relative;
}

@keyframes htp-popup-in {
	from { opacity: 0; transform: scale(0.85) translateY(20px); }
	to   { opacity: 1; transform: scale(1) translateY(0); }
}

.htp-close {
	position: absolute;
	top: 0.75rem;
	right: 0.75rem;
	background: none;
	border: none;
	font-size: 1.4rem;
	cursor: pointer;
	color: var(--wordle-text-muted, #9a8874);
	line-height: 1;
	padding: 0.25rem;
	border-radius: 6px;
	transition: background 0.15s, color 0.15s;
}

.htp-close:hover {
	background: var(--wordle-surface, #f5ebe0);
	color: var(--wordle-text, #3d3229);
}

.htp-header {
	text-align: center;
	margin-bottom: 1.25rem;
}

.htp-flame {
	font-size: 2.2rem;
	display: block;
	margin-bottom: 0.25rem;
	animation: loading-flame-dance 1.2s ease-in-out infinite;
}

.htp-title {
	font-size: 1.4rem;
	font-weight: 800;
	color: var(--wordle-text, #3d3229);
	margin: 0;
}

.htp-subtitle {
	font-size: 0.85rem;
	color: var(--wordle-text-muted, #9a8874);
	margin-top: 0.25rem;
}

.htp-body {
	text-align: center;
	color: var(--wordle-text, #3d3229);
	font-size: 1rem;
	line-height: 1.6;
	margin-bottom: 1.25rem;
}

.htp-body p {
	margin: 0.6rem 0;
}

/* Staggered line reveals */
.htp-line {
	opacity: 0;
	animation: htp-line-in 0.6s ease-out forwards;
}

.htp-line-1 { animation-delay: 0.3s; }
.htp-line-2 { animation-delay: 0.7s; }
.htp-line-3 { animation-delay: 1.1s; }
.htp-line-4 { animation-delay: 1.5s; }

@keyframes htp-line-in {
	from { opacity: 0; transform: translateY(8px); }
	to   { opacity: 1; transform: translateY(0); }
}

/* First line ‚Äî warm, welcoming, slightly larger */
.htp-line-1 {
	font-size: 1.05rem;
	letter-spacing: 0.01em;
}

.htp-highlight {
	color: var(--circle-accent, #e8a84c);
	font-weight: 700;
}

/* Second line ‚Äî the cheeky warning */
.htp-line-2 {
	font-size: 0.95rem;
	color: var(--wordle-text-muted, #9a8874);
}

.htp-line-2 em {
	font-style: italic;
	color: var(--wordle-text, #3d3229);
	font-weight: 600;
	text-decoration: underline wavy var(--circle-accent, #e8a84c);
	text-underline-offset: 3px;
	text-decoration-thickness: 1.5px;
}

/* Third line ‚Äî soft, personal */
.htp-line-3 {
	font-size: 0.95rem;
	color: var(--wordle-text-muted, #9a8874);
}

.htp-wink {
	display: inline-block;
	font-size: 1.1em;
	animation: htp-wink-bounce 1s ease-in-out 2s 1;
}

@keyframes htp-wink-bounce {
	0%, 100% { transform: rotate(0); }
	25% { transform: rotate(-8deg) scale(1.2); }
	50% { transform: rotate(8deg) scale(1.3); }
	75% { transform: rotate(-4deg) scale(1.1); }
}

/* Good luck ‚Äî big, bold, golden */
.htp-goodluck {
	font-size: 1.5rem;
	font-weight: 800;
	letter-spacing: 0.03em;
	background: linear-gradient(135deg, #e8a84c, #f0c060, #e89040);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
	filter: drop-shadow(0 0 8px rgba(232, 168, 76, 0.3));
	margin-top: 1rem !important;
}

.htp-circles {
	display: flex;
	flex-direction: column;
	gap: 0.6rem;
	margin-bottom: 1.25rem;
}

.htp-circle {
	display: flex;
	align-items: flex-start;
	gap: 0.65rem;
	padding: 0.5rem 0.6rem;
	border-radius: 10px;
	background: var(--wordle-surface, #f5ebe0);
	border: 1px solid var(--wordle-border, #ddd0c0);
	transition: transform 0.15s;
}

.htp-circle:hover {
	transform: translateX(3px);
}

.htp-circle-num {
	flex-shrink: 0;
	width: 28px;
	height: 28px;
	border-radius: 50%;
	background: var(--circle-accent, #e8a84c);
	color: #fff;
	font-weight: 800;
	font-size: 0.8rem;
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0 0 8px var(--circle-accent-glow, rgba(232, 168, 76, 0.3));
}

.htp-circle-info {
	flex: 1;
	min-width: 0;
}

.htp-circle-name {
	font-weight: 700;
	font-size: 0.9rem;
	color: var(--wordle-text, #3d3229);
}

.htp-circle-desc {
	font-size: 0.78rem;
	color: var(--wordle-text-muted, #9a8874);
	line-height: 1.35;
	margin-top: 0.1rem;
}

.htp-rules {
	font-size: 0.8rem;
	color: var(--wordle-text-muted, #9a8874);
	text-align: center;
	line-height: 1.5;
	margin-bottom: 1.25rem;
	padding: 0.5rem 0.75rem;
	background: color-mix(in srgb, var(--circle-accent, #e8a84c) 8%, transparent);
	border-radius: 8px;
}

.htp-go-btn {
	display: block;
	width: 100%;
	padding: 0.75rem;
	border: none;
	border-radius: 10px;
	background: var(--circle-accent, #e8a84c);
	color: #fff;
	font-size: 1.05rem;
	font-weight: 700;
	cursor: pointer;
	box-shadow: 0 2px 12px var(--circle-accent-glow, rgba(232, 168, 76, 0.3));
	transition: transform 0.15s, box-shadow 0.15s;
}

.htp-go-btn:hover {
	transform: translateY(-1px);
	box-shadow: 0 4px 20px var(--circle-accent-glow, rgba(232, 168, 76, 0.4));
}

.htp-go-btn:active {
	transform: translateY(0);
}

@media (max-width: 480px) {
	.htp-popup {
		max-height: 80vh;
		padding: 1.25rem 1rem 1rem;
	}
	.htp-title { font-size: 1.2rem; }
	.htp-circle { padding: 0.4rem 0.5rem; }
}
