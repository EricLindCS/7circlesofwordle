:root {
	/* White theme; flames increase by circle depth */
	--wordle-bg: #ffffff;
	--wordle-surface: #f5f5f5;
	--wordle-cell-bg: #fafafa;
	--wordle-border: #d0d0d0;
	--wordle-border-filled: #a0a0a0;
	--wordle-text: #1a1a1a;
	--wordle-text-muted: #666;
	--wordle-absent: #787c7e;
	--wordle-present: #c9b458;
	--wordle-correct: #6aaa64;
	--wordle-key-bg: #818384;
	--wordle-key-hover: #565758;
	--flame-color-1: rgba(255, 180, 80, 0.08);
	--flame-color-2: rgba(255, 120, 40, 0.12);
	--flame-color-3: rgba(220, 80, 40, 0.15);
}

#app {
	font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	text-align: center;
	color: var(--wordle-text);
	background: var(--wordle-bg);
	min-height: 100%;
	display: flex;
	flex-direction: column;
	align-items: center;
	padding: 1rem;
	position: relative;
}

/* Progressive flames: more as you go deeper (data-circle 1â€“7). Applied to body so it works in embeds. */
body::before {
	content: '';
	position: fixed;
	inset: 0;
	pointer-events: none;
	z-index: 0;
	opacity: 0;
	background: linear-gradient(180deg, transparent 20%, var(--flame-color-1) 50%, var(--flame-color-2) 80%, var(--flame-color-3) 100%);
}
body[data-circle="1"]::before { opacity: 0.12; }
body[data-circle="2"]::before { opacity: 0.22; }
body[data-circle="3"]::before { opacity: 0.35; }
body[data-circle="4"]::before { opacity: 0.5; }
body[data-circle="5"]::before { opacity: 0.65; }
body[data-circle="6"]::before { opacity: 0.82; }
body[data-circle="7"]::before { opacity: 1; }

/* Also on #app for when body doesn't get the attribute */
#app::before {
	content: '';
	position: fixed;
	inset: 0;
	pointer-events: none;
	z-index: 0;
	opacity: 0;
	background: linear-gradient(180deg, transparent 20%, var(--flame-color-1) 50%, var(--flame-color-2) 80%, var(--flame-color-3) 100%);
}
#app[data-circle="1"]::before { opacity: 0.12; }
#app[data-circle="2"]::before { opacity: 0.22; }
#app[data-circle="3"]::before { opacity: 0.35; }
#app[data-circle="4"]::before { opacity: 0.5; }
#app[data-circle="5"]::before { opacity: 0.65; }
#app[data-circle="6"]::before { opacity: 0.82; }
#app[data-circle="7"]::before { opacity: 1; }

/* Rising heat shadow at bottom, stronger in deeper circles */
#app { box-shadow: none; }
#app[data-circle="1"] { box-shadow: 0 -4px 16px var(--flame-color-1); }
#app[data-circle="2"] { box-shadow: 0 -8px 24px var(--flame-color-1); }
#app[data-circle="3"] { box-shadow: 0 -12px 32px var(--flame-color-1), 0 -6px 16px var(--flame-color-2); }
#app[data-circle="4"] { box-shadow: 0 -16px 40px var(--flame-color-1), 0 -8px 24px var(--flame-color-2); }
#app[data-circle="5"] { box-shadow: 0 -20px 48px var(--flame-color-1), 0 -10px 28px var(--flame-color-2); }
#app[data-circle="6"] { box-shadow: 0 -24px 56px var(--flame-color-1), 0 -12px 32px var(--flame-color-2); }
#app[data-circle="7"] { box-shadow: 0 -28px 64px var(--flame-color-1), 0 -14px 36px var(--flame-color-2), 0 -6px 20px var(--flame-color-3); }

#app > * {
	position: relative;
	z-index: 1;
}

html,
body {
	width: 100%;
	min-height: 100%;
	box-sizing: border-box;
	background: var(--wordle-bg);
	color: var(--wordle-text);
}

#app {
	width: 100%;
	min-height: 100%;
	box-sizing: border-box;
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

/* Mobile: touch targets, safe area */
html {
	-webkit-text-size-adjust: 100%;
	touch-action: manipulation;
}
body {
	padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
	min-height: 100vh;
	min-height: 100dvh;
}
#app {
	padding: max(1rem, env(safe-area-inset-top)) max(1rem, env(safe-area-inset-left)) max(1rem, env(safe-area-inset-bottom)) max(1rem, env(safe-area-inset-right));
	min-height: 100vh;
	min-height: 100dvh;
}
@media (max-width: 480px) {
	.wordle-cell {
		width: 2.25rem;
		height: 2.25rem;
		font-size: 1.1rem;
	}
	.wordle-grid-7 .wordle-cell {
		width: 1.65rem;
		height: 1.65rem;
		font-size: 0.85rem;
	}
	.wordle-keyboard .keyboard-key {
		min-height: 44px;
		min-width: 1.5rem;
		font-size: 0.7rem;
	}
	.key-enter, .key-backspace {
		min-width: 2.25rem;
	}
	.reset-btn, .play-anyway-btn {
		min-height: 44px;
		padding: 0.6rem 1.2rem;
	}
	.wordle-title {
		font-size: 1.35rem;
	}
	.hangman-word {
		font-size: 1.5rem;
		letter-spacing: 0.2em;
	}
}
/* Prevent double-tap zoom on buttons */
button {
	touch-action: manipulation;
}

.wordle-title {
	font-size: 1.75rem;
	font-weight: 700;
	letter-spacing: 0.08em;
	margin-bottom: 1rem;
	color: var(--wordle-text);
}

.wordle-grid {
	display: flex;
	flex-direction: column;
	gap: 0.35rem;
	margin-bottom: 1.5rem;
}

.wordle-row {
	display: flex;
	justify-content: center;
	gap: 0.35rem;
}

/* Cell wrapper for flip animation */
.wordle-cell {
	width: 2.5rem;
	height: 2.5rem;
	perspective: 1000px;
	display: flex;
	align-items: center;
	justify-content: center;
}

.wordle-cell-inner {
	position: relative;
	width: 100%;
	height: 100%;
	transform-style: preserve-3d;
	transition: transform 0.5s cubic-bezier(0.22, 1, 0.36, 1);
}

.wordle-cell-inner.flip {
	transform: rotateX(180deg);
}

.wordle-cell-front,
.wordle-cell-back {
	position: absolute;
	inset: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	backface-visibility: hidden;
	-webkit-backface-visibility: hidden;
	border: 2px solid var(--wordle-border);
	font-size: 1.25rem;
	font-weight: 700;
	text-transform: uppercase;
}

.wordle-cell-front {
	background: var(--wordle-cell-bg);
	color: var(--wordle-text);
}

.wordle-cell-back {
	transform: rotateX(180deg);
	background: var(--wordle-cell-bg);
	color: var(--wordle-text);
}

.wordle-cell-back.correct {
	background: var(--wordle-correct);
	border-color: var(--wordle-correct);
	color: #fff;
}

.wordle-cell-back.present {
	background: var(--wordle-present);
	border-color: var(--wordle-present);
	color: #fff;
}

.wordle-cell-back.absent {
	background: var(--wordle-absent);
	border-color: var(--wordle-absent);
	color: var(--wordle-text-muted);
}

.wordle-cell.filled .wordle-cell-front {
	border-color: var(--wordle-border-filled);
}

/* Circle 7: grayed-out blank cells (last 2 of first row) */
.wordle-cell.blank .wordle-cell-back,
.wordle-cell.blank {
	background: var(--wordle-cell-bg);
	border-color: var(--wordle-border);
	opacity: 0.6;
}

.wordle-message {
	min-height: 1.5rem;
	font-size: 0.9rem;
	margin-bottom: 0.5rem;
}

.wordle-message.error {
	color: #ed4245;
}

.error-message {
	color: #ed4245;
	padding: 1rem;
	text-align: center;
	max-width: 90%;
}

.error-help {
	color: var(--wordle-text);
	font-size: 0.85rem;
	text-align: left;
	max-width: 360px;
	margin: 0 auto 1rem;
	line-height: 1.5;
}

.error-help code {
	background: var(--wordle-cell-bg);
	padding: 0.1em 0.35em;
	border-radius: 3px;
	font-size: 0.9em;
}

.error-help a {
	color: #5865f2;
}

.play-anyway-btn {
	background: var(--wordle-key-bg);
	color: #fff;
	border: none;
	padding: 0.5rem 1rem;
	border-radius: 6px;
	font-size: 1rem;
	cursor: pointer;
}

.play-anyway-btn:hover {
	background: var(--wordle-key-hover);
}

.wordle-keyboard {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 0.4rem;
}

.keyboard-row {
	display: flex;
	justify-content: center;
	gap: 0.25rem;
}

.keyboard-key {
	height: 2.25rem;
	min-width: 1.75rem;
	padding: 0 0.4rem;
	font-size: 0.75rem;
	font-weight: 600;
	text-transform: uppercase;
	background: var(--wordle-surface);
	color: var(--wordle-text);
	border: none;
	border-radius: 4px;
	cursor: pointer;
	transition: background 0.1s, color 0.1s;
}

.keyboard-key:hover {
	background: #404249;
}

.keyboard-key:active {
	transform: scale(0.97);
}

.keyboard-key.correct {
	background: var(--wordle-correct);
	color: #fff;
}

.keyboard-key.present {
	background: var(--wordle-present);
	color: #fff;
}

.keyboard-key.absent {
	background: var(--wordle-absent);
	color: var(--wordle-text-muted);
}

.key-enter {
	min-width: 2.5rem;
	font-size: 0.65rem;
}

.key-backspace {
	min-width: 2.5rem;
}

/* Hangman */
.hangman-word {
	font-size: 2rem;
	letter-spacing: 0.3em;
	font-weight: 700;
	margin: 1rem 0 0.5rem;
}

.hangman-wrong {
	font-size: 0.95rem;
	color: #b5bac1;
	margin-bottom: 0.5rem;
}

.hangman-word-guess-label {
	font-size: 0.8rem;
	color: #b5bac1;
	margin-bottom: 0.25rem;
}

.hangman-word-guess {
	font-size: 1.25rem;
	letter-spacing: 0.2em;
	margin-bottom: 1rem;
}

/* Stage 3: Unscramble (Anagram) */
.anagram-letters {
	font-size: 2rem;
	letter-spacing: 0.4em;
	font-weight: 700;
	margin: 1rem 0 0.5rem;
	text-transform: uppercase;
}

.anagram-label {
	font-size: 0.9rem;
	color: var(--wordle-text-muted);
	margin: 0.5rem 0 0.25rem;
}

.anagram-input {
	display: block;
	margin: 0.5rem auto 0.25rem;
	padding: 0.5rem 0.75rem;
	font-size: 1.1rem;
	text-transform: uppercase;
	letter-spacing: 0.1em;
	max-width: 12rem;
	text-align: center;
	border: 2px solid var(--wordle-border);
	border-radius: 4px;
	background: var(--wordle-cell-bg);
	color: var(--wordle-text);
}

.anagram-message {
	min-height: 1.5rem;
	font-size: 0.9rem;
	margin: 0.25rem 0 0.5rem;
}

.anagram-message.error {
	color: #c53030;
}

.anagram-submit {
	margin-top: 0.5rem;
}

/* Game over / Victory */
.screen {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	min-height: 60vh;
	text-align: center;
	padding: 2rem;
}

.screen-title {
	font-size: 2rem;
	margin-bottom: 1rem;
}

.screen-gameover .screen-title {
	color: #c53030;
}

.screen-victory .screen-title {
	color: var(--wordle-correct);
}

.screen-text {
	font-size: 1.1rem;
	color: var(--wordle-text);
	margin-bottom: 1rem;
}

.reset-btn {
	background: var(--wordle-surface);
	color: var(--wordle-text);
	border: 1px solid var(--wordle-border);
	padding: 0.5rem 1rem;
	border-radius: 6px;
	font-size: 0.9rem;
	cursor: pointer;
	margin-top: 0.5rem;
}

.reset-btn:hover {
	background: #404249;
}

/* 6-letter Wordle grid */
.wordle-grid-6 .wordle-cell {
	width: 2.2rem;
	height: 2.2rem;
	font-size: 1.1rem;
}

/* 7-letter Wordle grid: smaller cells */
.wordle-grid-7 .wordle-cell {
	width: 1.9rem;
	height: 1.9rem;
	font-size: 0.95rem;
}
